!function(t,e,n){"use strict";e.module("pouchdb",[]).constant("POUCHDB_METHODS",{destroy:"qify",put:"qify",post:"qify",get:"qify",remove:"qify",bulkDocs:"qify",allDocs:"qify",putAttachment:"qify",getAttachment:"qify",removeAttachment:"qify",query:"qify",viewCleanup:"qify",info:"qify",compact:"qify",revsDiff:"qify",changes:"eventEmitter",sync:"eventEmitter",replicate:{to:"eventEmitter",from:"eventEmitter"}}).service("pouchDecorators",["$q",function(t){this.qify=function(e){return function(){return t.when(e.apply(this,arguments))}},this.eventEmitter=function(e){return function(){var n=t.defer(),r=e.apply(this,arguments).on("change",function(t){return n.notify({change:t})}).on("uptodate",function(t){return n.notify({uptodate:t})}).on("complete",function(t){return n.resolve(t)}).on("error",function(t){return n.reject(t)});return r.$promise=n.promise,r}}}]).provider("pouchDB",["POUCHDB_METHODS",function(t){var n=this;n.methods=t,n.$get=["$window","pouchDecorators",function(t,r){function i(t,n,o){for(var u in n){var f=n[u];if(!e.isString(f))return i(t,f,u);f=r[f],o?t[o][u]=f(t[o][u]):t[u]=f(t[u])}return t}return function(e,r){var o=new t.PouchDB(e,r);return i(o,n.methods)}}]}])}(window,window.angular);